{
  "version": "1.0.0",
  "templates": [

    {
      "triggerId": "Contract_Rejected_Low_Guarantee",
      "displayName": "Agent Rejects Offer – Low Guarantee",
      "senderArchetype": "agent",
      "senderPersonality": ["Shark", "Uncle", "BrandBuilder", "SelfRepresented"],
      "category": "contract",
      "requiresAction": true,
      "subjectTemplate": "RE: [PlayerFirstName] [PlayerLastName] – Offer Rejected",
      "narrativeBody": "I've reviewed your contract proposal for [PlayerFirstName], and frankly, the guarantee structure doesn't reflect his market value. We've had interest from other clubs willing to commit real money upfront. Until you can match the level of security he deserves, we can't move forward.",
      "mechanicalTruth": "Guarantee Analysis: You offered $[OfferedGuaranteeMil]M guaranteed, but [PlayerFirstName]'s market baseline is $[MarketGuaranteeMil]M ([PercentageBelowMarket]% below market). At [GuaranteePct]% guaranteed on your deal, comparable [Position] players with OVR [Overall] are securing [MarketGuaranteePct]% guaranteed on the open market. Close the gap to at least $[MinAcceptableGuaranteeMil]M to move forward.",
      "requiredVariables": [
        "PlayerFirstName",
        "PlayerLastName",
        "OfferedGuaranteeMil",
        "MarketGuaranteeMil",
        "PercentageBelowMarket",
        "GuaranteePct",
        "Position",
        "Overall",
        "MarketGuaranteePct",
        "MinAcceptableGuaranteeMil"
      ],
      "actionRouting": "Route_To_Contract_Negotiation",
      "actionButtons": [
        { "label": "Revise Offer", "action": "onNavigate('contractNegotiation', {playerId})" },
        { "label": "Walk Away", "action": "handleReleasePlayer(playerId)" }
      ]
    },

    {
      "triggerId": "Contract_Rejected_Insulting_APY",
      "displayName": "Agent Rejects Offer – APY Too Low",
      "senderArchetype": "agent",
      "senderPersonality": ["Shark", "BrandBuilder"],
      "category": "contract",
      "requiresAction": true,
      "subjectTemplate": "RE: [PlayerFirstName] [PlayerLastName] – Insulting Offer",
      "narrativeBody": "I'm going to be straight with you — that offer was an insult. [PlayerFirstName] has put in the work and earned his market rate. We're not coming back to the table at these numbers. Come back when you're serious.",
      "mechanicalTruth": "APY Analysis: You offered $[OfferedAPYMil]M/year. [PlayerFirstName]'s market APY is $[MarketAPYMil]M ([PercentageBelowMarket]% below market). The top 5 [Position] players average $[Top5AvgMil]M APY; comparable OVR [Overall] players average $[CompAvgMil]M APY. Minimum acceptable APY to reengage: $[MinAcceptableAPYMil]M.",
      "requiredVariables": [
        "PlayerFirstName",
        "PlayerLastName",
        "OfferedAPYMil",
        "MarketAPYMil",
        "PercentageBelowMarket",
        "Position",
        "Overall",
        "Top5AvgMil",
        "CompAvgMil",
        "MinAcceptableAPYMil"
      ],
      "actionRouting": "Route_To_Contract_Negotiation",
      "actionButtons": [
        { "label": "Revise Offer", "action": "onNavigate('contractNegotiation', {playerId})" },
        { "label": "Explore Trade", "action": "onNavigate('tradeBlock', {playerId})" }
      ]
    },

    {
      "triggerId": "Contract_Rejected_Short_Duration",
      "displayName": "Agent Rejects Offer – Too Short",
      "senderArchetype": "agent",
      "senderPersonality": ["Shark", "Uncle", "BrandBuilder", "SelfRepresented"],
      "category": "contract",
      "requiresAction": true,
      "subjectTemplate": "RE: [PlayerFirstName] [PlayerLastName] – Duration Insufficient",
      "narrativeBody": "[PlayerFirstName] is looking for stability and long-term commitment. A [OfferedYears]-year deal at this stage of his career doesn't give him the security he needs. We're looking for at least [MinYears] years. Show us you're committed to him long-term.",
      "mechanicalTruth": "Duration Analysis: You offered [OfferedYears] years. Agent minimum for [PlayerFirstName] (age [PlayerAge], [Position], OVR [Overall]) is [MinYears] years. Market comps at this position and age average [MarketAvgYears] years per deal. Note: agent archetype '[AgentArchetype]' places [LengthPriority] priority on contract length.",
      "requiredVariables": [
        "PlayerFirstName",
        "PlayerLastName",
        "OfferedYears",
        "MinYears",
        "PlayerAge",
        "Position",
        "Overall",
        "MarketAvgYears",
        "AgentArchetype",
        "LengthPriority"
      ],
      "actionRouting": "Route_To_Contract_Negotiation",
      "actionButtons": [
        { "label": "Revise Offer", "action": "onNavigate('contractNegotiation', {playerId})" },
        { "label": "Franchise Tag", "action": "handleFranchiseTag(playerId)" }
      ]
    },

    {
      "triggerId": "Contract_Counter_Offer_Received",
      "displayName": "Agent Sends Counter-Offer",
      "senderArchetype": "agent",
      "senderPersonality": ["Shark", "Uncle", "BrandBuilder", "SelfRepresented"],
      "category": "contract",
      "requiresAction": true,
      "subjectTemplate": "[PlayerFirstName] [PlayerLastName] – Counter-Proposal",
      "narrativeBody": "We've reviewed your offer and we're not quite there yet. Here's what we're looking for to get this done. These are our terms — meet us here and [PlayerFirstName] is yours.",
      "mechanicalTruth": "Counter Terms: [CounterYears] years | $[CounterAPYMil]M APY | $[CounterGuaranteeMil]M guaranteed ([CounterGuaranteePct]%). Total value: $[CounterTotalMil]M. Year 1 cap hit: $[CounterCapHitMil]M. Your current cap space: $[CapSpaceMil]M. Gap to close: $[GapAPYMil]M APY / $[GapGuaranteeMil]M guaranteed.",
      "requiredVariables": [
        "PlayerFirstName",
        "PlayerLastName",
        "CounterYears",
        "CounterAPYMil",
        "CounterGuaranteeMil",
        "CounterGuaranteePct",
        "CounterTotalMil",
        "CounterCapHitMil",
        "CapSpaceMil",
        "GapAPYMil",
        "GapGuaranteeMil"
      ],
      "actionRouting": "Route_To_Contract_Negotiation",
      "actionButtons": [
        { "label": "Accept Counter", "action": "handleAcceptCounter(playerId)" },
        { "label": "Revise Offer", "action": "onNavigate('contractNegotiation', {playerId})" },
        { "label": "Walk Away", "action": "handleReleasePlayer(playerId)" }
      ]
    },

    {
      "triggerId": "Contract_Offer_Accepted",
      "displayName": "Contract Signed",
      "senderArchetype": "agent",
      "senderPersonality": ["Shark", "Uncle", "BrandBuilder", "SelfRepresented"],
      "category": "contract",
      "requiresAction": false,
      "subjectTemplate": "SIGNED: [PlayerFirstName] [PlayerLastName] – [Years]-Year Deal",
      "narrativeBody": "[PlayerFirstName] is excited to be part of the team. This is exactly the kind of commitment he was looking for. We look forward to great things ahead.",
      "mechanicalTruth": "Contract Executed: [Years] years | $[APYMil]M APY | $[GuaranteeMil]M guaranteed ([GuaranteePct]%). Total value: $[TotalMil]M. Signing bonus: $[SigningBonusMil]M (spread over [VoidYears] void years if applicable). Year 1 cap hit: $[Year1CapHitMil]M. Remaining cap space after signing: $[RemainingCapMil]M.",
      "requiredVariables": [
        "PlayerFirstName",
        "PlayerLastName",
        "Years",
        "APYMil",
        "GuaranteeMil",
        "GuaranteePct",
        "TotalMil",
        "SigningBonusMil",
        "VoidYears",
        "Year1CapHitMil",
        "RemainingCapMil"
      ],
      "actionRouting": "Route_To_Roster",
      "actionButtons": [
        { "label": "View Roster", "action": "onNavigate('roster', {})" }
      ]
    },

    {
      "triggerId": "Negotiation_Lockout_Declared",
      "displayName": "Agent Terminates Negotiations",
      "senderArchetype": "agent",
      "senderPersonality": ["Shark", "BrandBuilder"],
      "category": "contract",
      "requiresAction": false,
      "subjectTemplate": "[PlayerFirstName] [PlayerLastName] – Negotiations Terminated",
      "narrativeBody": "After careful consideration, we've decided to terminate negotiations with your organization. The offers presented did not come close to reflecting [PlayerFirstName]'s value, and we have no interest in continuing down this path. We'll be exploring other options.",
      "mechanicalTruth": "Lockout Reason: [LockoutReason]. Negotiation lasted [RoundsCompleted] rounds. Final offer was $[FinalOfferAPYMil]M APY vs. market value of $[MarketAPYMil]M ([PctBelowMarket]% below). Relationship score dropped to [RelationshipScore]/100, crossing the lockout threshold of [LockoutThreshold]/100.",
      "requiredVariables": [
        "PlayerFirstName",
        "PlayerLastName",
        "LockoutReason",
        "RoundsCompleted",
        "FinalOfferAPYMil",
        "MarketAPYMil",
        "PctBelowMarket",
        "RelationshipScore",
        "LockoutThreshold"
      ],
      "actionRouting": "Route_To_Free_Agency",
      "actionButtons": [
        { "label": "Return to Free Agency", "action": "onNavigate('freeAgency', {})" },
        { "label": "Explore Trade", "action": "onNavigate('tradeBlock', {})" }
      ]
    },

    {
      "triggerId": "Free_Agent_Interest_Received",
      "displayName": "Free Agent Inquiry",
      "senderArchetype": "agent",
      "senderPersonality": ["Shark", "Uncle", "BrandBuilder", "SelfRepresented"],
      "category": "contract",
      "requiresAction": true,
      "subjectTemplate": "[PlayerFirstName] [PlayerLastName] – Free Agent Interest",
      "narrativeBody": "Multiple teams are showing interest in [PlayerFirstName] as we approach the open market. The [InterestLevel] level of interest suggests he'll command strong money this offseason. I wanted to reach out to see if you'd like to get ahead of the market and keep him in the fold.",
      "mechanicalTruth": "Market Projection: Age [PlayerAge] | [Position] | OVR [Overall]. Projected APY: $[ProjectedAPYMil]M. Projected guarantee: $[ProjectedGuaranteeMil]M (~[GuaranteePct]% guaranteed). Franchise tag value: $[FranchiseTagMil]M (saves $[SavingsVsFreeMarketMil]M vs. open market, but signals non-commitment). Comparable free agents this class: [CompCount] at similar OVR.",
      "requiredVariables": [
        "PlayerFirstName",
        "PlayerLastName",
        "PlayerAge",
        "Position",
        "Overall",
        "InterestLevel",
        "ProjectedAPYMil",
        "ProjectedGuaranteeMil",
        "GuaranteePct",
        "FranchiseTagMil",
        "SavingsVsFreeMarketMil",
        "CompCount"
      ],
      "actionRouting": "Route_To_Contract_Negotiation",
      "actionButtons": [
        { "label": "Offer Contract", "action": "onNavigate('contractNegotiation', {playerId})" },
        { "label": "Franchise Tag", "action": "handleFranchiseTag(playerId)" },
        { "label": "Let Walk", "action": "handleReleasePlayer(playerId)" }
      ]
    },

    {
      "triggerId": "Phone_Dead_Warning",
      "displayName": "Agent Not Taking Calls",
      "senderArchetype": "agent",
      "senderPersonality": ["Shark"],
      "category": "contract",
      "requiresAction": false,
      "subjectTemplate": "[PlayerFirstName] [PlayerLastName] – Not Available",
      "narrativeBody": "[PlayerFirstName]'s camp is stepping back from talks. We've said what we need to say. When you're ready to have a real conversation, you know where to find us. Don't call us — we'll call you.",
      "mechanicalTruth": "Phone Dead: Agent unavailable for [DeadDays] days (~[DeadRounds] negotiation rounds). Triggered by: [TriggerReason]. Current agent mood: [CurrentMood]. To resume talks, wait [DeadRounds] rounds or use a relationship-building action if available.",
      "requiredVariables": [
        "PlayerFirstName",
        "PlayerLastName",
        "DeadDays",
        "DeadRounds",
        "TriggerReason",
        "CurrentMood"
      ],
      "actionRouting": "Route_To_Free_Agency",
      "actionButtons": [
        { "label": "Return to Free Agency", "action": "onNavigate('freeAgency', {})" }
      ]
    },

    {
      "triggerId": "Press_Leak_Contract_Dispute",
      "displayName": "Press Leak – Contract Dispute",
      "senderArchetype": "media",
      "senderPersonality": null,
      "category": "media",
      "requiresAction": false,
      "subjectTemplate": "BREAKING: [PlayerFirstName] [PlayerLastName] Contract Talks 'Stalled'",
      "narrativeBody": "Sources close to [PlayerFirstName] [PlayerLastName]'s camp indicate that contract negotiations with the organization have hit a significant wall. The player is reportedly frustrated with the team's unwillingness to meet market value. Multiple rival teams are said to be monitoring the situation closely.",
      "mechanicalTruth": "Press Impact: Fan confidence -[FanConfidenceDrop] points. Owner satisfaction -[OwnerSatisfactionDrop] points. Agent leverage +[AgentLeverageGain] (public pressure increases agent's negotiating position). Leaked by: [LeakSource]. This leak cannot be retracted — damage is permanent for this negotiation cycle.",
      "requiredVariables": [
        "PlayerFirstName",
        "PlayerLastName",
        "FanConfidenceDrop",
        "OwnerSatisfactionDrop",
        "AgentLeverageGain",
        "LeakSource"
      ],
      "actionRouting": "Route_To_Contract_Negotiation",
      "actionButtons": [
        { "label": "Address Media", "action": "handleMediaStatement(playerId)" },
        { "label": "Accelerate Offer", "action": "onNavigate('contractNegotiation', {playerId})" }
      ]
    },

    {
      "triggerId": "Shadow_Advisor_Detected",
      "displayName": "Shadow Advisor Influencing Player",
      "senderArchetype": "agent",
      "senderPersonality": null,
      "category": "contract",
      "requiresAction": true,
      "subjectTemplate": "⚠ Blocked Number – Unknown Influence on [PlayerFirstName] [PlayerLastName]",
      "narrativeBody": "We're getting word that an outside party has been whispering in [PlayerFirstName]'s ear. Someone is advising him off the books — and their ask is significantly higher than what's been on the table. This complicates things.",
      "mechanicalTruth": "Shadow Advisor Detected: [AdvisorName] is advising [PlayerFirstName] off-book. Advisor demand: $[AdvisorDemandMil]M. Impact on negotiation: APY floor raised by $[FloorRaiseMil]M / guarantee floor raised by $[GuaranteeFloorRaiseMil]M. Options: ENGAGE (attempt to neutralize, costs 1 round) or REPORT to league office (possible penalty to advisor; risks agent relationship -[RelationshipCost] pts).",
      "requiredVariables": [
        "PlayerFirstName",
        "PlayerLastName",
        "AdvisorName",
        "AdvisorDemandMil",
        "FloorRaiseMil",
        "GuaranteeFloorRaiseMil",
        "RelationshipCost"
      ],
      "actionRouting": "Route_To_Shadow_Advisor_Response",
      "actionButtons": [
        { "label": "Engage Advisor", "action": "respondToShadowAdvisor(playerId, 'ENGAGE')" },
        { "label": "Report to League", "action": "respondToShadowAdvisor(playerId, 'REPORT')" }
      ]
    },

    {
      "triggerId": "Holdout_Declared",
      "displayName": "Player Declares Holdout",
      "senderArchetype": "agent",
      "senderPersonality": ["Shark", "BrandBuilder"],
      "category": "contract",
      "requiresAction": true,
      "subjectTemplate": "HOLDOUT: [PlayerFirstName] [PlayerLastName] Will Not Report",
      "narrativeBody": "I've advised [PlayerFirstName] not to report to camp until this contract situation is resolved. He's committed to this process, but he's not going to play on a deal that undervalues him. This isn't personal — it's business.",
      "mechanicalTruth": "Holdout Impact: [PlayerFirstName] unavailable for [HoldoutDays] estimated days. Performance penalty if holdout extends past training camp: -[OvrPenalty] OVR for first [PenaltyGames] games of season. Daily fine accruing: $[DailyFineMil]M/day (deducted from any eventual contract value). Resolve by offering $[ResolutionAPYMil]M APY or higher.",
      "requiredVariables": [
        "PlayerFirstName",
        "PlayerLastName",
        "HoldoutDays",
        "OvrPenalty",
        "PenaltyGames",
        "DailyFineMil",
        "ResolutionAPYMil"
      ],
      "actionRouting": "Route_To_Contract_Negotiation",
      "actionButtons": [
        { "label": "Make Offer", "action": "onNavigate('contractNegotiation', {playerId})" },
        { "label": "Trade Player", "action": "onNavigate('tradeBlock', {playerId})" },
        { "label": "Release Player", "action": "handleReleasePlayer(playerId)" }
      ]
    },

    {
      "triggerId": "Franchise_Tag_Applied",
      "displayName": "Franchise Tag Notice",
      "senderArchetype": "agent",
      "senderPersonality": ["Shark", "Uncle", "BrandBuilder", "SelfRepresented"],
      "category": "contract",
      "requiresAction": false,
      "subjectTemplate": "[PlayerFirstName] [PlayerLastName] – Franchise Tag Received",
      "narrativeBody": "[PlayerFirstName] has received your franchise tag. He'll honor the contract for this season, but make no mistake — this is not the long-term commitment he was hoping for. We'll be revisiting this conversation before the deadline. Use this time wisely.",
      "mechanicalTruth": "Franchise Tag: 1-year tender at $[TagValueMil]M (exclusive tag) or $[NonExclusiveTagMil]M (non-exclusive). Cap hit: $[TagCapHitMil]M. Long-term extension window: [ExtensionDeadlineDays] days remaining. If not extended by deadline, [PlayerFirstName] enters free agency next offseason. Agent mood penalty: -[MoodPenalty] (dissatisfied with tag).",
      "requiredVariables": [
        "PlayerFirstName",
        "PlayerLastName",
        "TagValueMil",
        "NonExclusiveTagMil",
        "TagCapHitMil",
        "ExtensionDeadlineDays",
        "MoodPenalty"
      ],
      "actionRouting": "Route_To_Contract_Negotiation",
      "actionButtons": [
        { "label": "Negotiate Extension", "action": "onNavigate('contractNegotiation', {playerId, context: 'extension'})" },
        { "label": "View Roster", "action": "onNavigate('roster', {})" }
      ]
    },

    {
      "triggerId": "Extension_Deadline_Warning",
      "displayName": "Extension Window Closing",
      "senderArchetype": "agent",
      "senderPersonality": ["Shark", "Uncle", "BrandBuilder", "SelfRepresented"],
      "category": "contract",
      "requiresAction": true,
      "subjectTemplate": "URGENT: [PlayerFirstName] [PlayerLastName] Extension Deadline in [DaysRemaining] Days",
      "narrativeBody": "I want to make sure you're aware — the window to lock up [PlayerFirstName] on a long-term deal is closing fast. After [DeadlineDate], he'll be heading to the open market. If you want to keep him, now is the time to make a serious offer.",
      "mechanicalTruth": "Extension Deadline: [DaysRemaining] days remaining ([DeadlineDate]). If no extension agreed, [PlayerFirstName] becomes a free agent at season end. Current estimated market value: $[MarketAPYMil]M APY. Post-deadline cap cost increase: ~[PostDeadlineInflationPct]% (free market premium). Recommended offer floor to close: $[RecommendedAPYMil]M APY / $[RecommendedGuaranteeMil]M guaranteed.",
      "requiredVariables": [
        "PlayerFirstName",
        "PlayerLastName",
        "DaysRemaining",
        "DeadlineDate",
        "MarketAPYMil",
        "PostDeadlineInflationPct",
        "RecommendedAPYMil",
        "RecommendedGuaranteeMil"
      ],
      "actionRouting": "Route_To_Contract_Negotiation",
      "actionButtons": [
        { "label": "Offer Extension", "action": "onNavigate('contractNegotiation', {playerId, context: 'extension'})" },
        { "label": "Let Walk", "action": "handleReleasePlayer(playerId)" }
      ]
    },

    {
      "triggerId": "Agent_Mood_Shift_Excited",
      "displayName": "Agent Mood Improves",
      "senderArchetype": "agent",
      "senderPersonality": ["Uncle", "BrandBuilder", "SelfRepresented"],
      "category": "contract",
      "requiresAction": false,
      "subjectTemplate": "[PlayerFirstName] [PlayerLastName] – Encouraged by Recent Offer",
      "narrativeBody": "I'll be honest — that last offer surprised me in a good way. [PlayerFirstName] is genuinely excited about the direction this is heading. Keep this momentum going and I think we can get something done.",
      "mechanicalTruth": "Mood Update: Agent mood shifted from [PreviousMood] → EXCITED. Leverage recalculated: You [UserLeveragePct]% | Agent [AgentLeveragePct]%. Acceptance probability increased by ~[AcceptanceProbGain]%. Maintain offer trajectory to close deal within [EstimatedRoundsToClose] round(s).",
      "requiredVariables": [
        "PlayerFirstName",
        "PlayerLastName",
        "PreviousMood",
        "UserLeveragePct",
        "AgentLeveragePct",
        "AcceptanceProbGain",
        "EstimatedRoundsToClose"
      ],
      "actionRouting": "Route_To_Contract_Negotiation",
      "actionButtons": [
        { "label": "Press Advantage", "action": "onNavigate('contractNegotiation', {playerId})" }
      ]
    },

    {
      "triggerId": "Agent_Mood_Shift_Angry",
      "displayName": "Agent Mood Worsens",
      "senderArchetype": "agent",
      "senderPersonality": ["Shark", "BrandBuilder"],
      "category": "contract",
      "requiresAction": true,
      "subjectTemplate": "[PlayerFirstName] [PlayerLastName] – Talks Deteriorating",
      "narrativeBody": "I need to be direct with you. [PlayerFirstName] is frustrated, and frankly so am I. The offers we've seen don't reflect how serious you are about retaining him. We're one more bad offer away from shutting this down entirely.",
      "mechanicalTruth": "Mood Alert: Agent mood dropped to ANGRY. Relationship score: [RelationshipScore]/100 (lockout threshold: [LockoutThreshold]/100). Distance to lockout: [DistanceToLockout] points. Last offer was [LastOfferGapPct]% below minimum acceptable on [WorstMetric]. Improve on [WorstMetric] in next offer or risk termination of negotiations.",
      "requiredVariables": [
        "PlayerFirstName",
        "PlayerLastName",
        "RelationshipScore",
        "LockoutThreshold",
        "DistanceToLockout",
        "LastOfferGapPct",
        "WorstMetric"
      ],
      "actionRouting": "Route_To_Contract_Negotiation",
      "actionButtons": [
        { "label": "Revise Offer", "action": "onNavigate('contractNegotiation', {playerId})" },
        { "label": "Explore Trade", "action": "onNavigate('tradeBlock', {playerId})" }
      ]
    },

    {
      "triggerId": "Owner_Blocks_Signing_Bonus",
      "displayName": "Owner Vetoes Signing Bonus",
      "senderArchetype": "owner",
      "senderPersonality": null,
      "category": "finance",
      "requiresAction": true,
      "subjectTemplate": "Owner Decision: Signing Bonus Blocked – [PlayerFirstName] [PlayerLastName]",
      "narrativeBody": "I've reviewed the proposed signing bonus and I'm not approving it at this time. Our cash position doesn't support a commitment of this size right now. Restructure the deal or find another path forward.",
      "mechanicalTruth": "Cash Reserve Block: Proposed signing bonus $[ProposedBonusMil]M exceeds available threshold. Current cash reserves: $[CashReservesMil]M (tier: [CashTier]). Maximum approvable signing bonus at current tier: $[MaxBonusMil]M. To unlock higher signing bonuses: reach [NextCashTier] tier ($[NextTierThresholdMil]M reserves required). Alternatively, reduce signing bonus to $[MaxBonusMil]M or below.",
      "requiredVariables": [
        "PlayerFirstName",
        "PlayerLastName",
        "ProposedBonusMil",
        "CashReservesMil",
        "CashTier",
        "MaxBonusMil",
        "NextCashTier",
        "NextTierThresholdMil"
      ],
      "actionRouting": "Route_To_Contract_Negotiation",
      "actionButtons": [
        { "label": "Revise Offer", "action": "onNavigate('contractNegotiation', {playerId})" },
        { "label": "View Finances", "action": "onNavigate('finances', {})" }
      ]
    },

    {
      "triggerId": "Cap_Space_Insufficient",
      "displayName": "Insufficient Cap Space",
      "senderArchetype": "headcoach",
      "senderPersonality": null,
      "category": "finance",
      "requiresAction": true,
      "subjectTemplate": "Cap Alert: Cannot Sign [PlayerFirstName] [PlayerLastName]",
      "narrativeBody": "The front office has flagged a cap issue. We can't execute this signing without creating the necessary space first. We need to restructure or move some contracts before we can bring [PlayerFirstName] on board.",
      "mechanicalTruth": "Cap Shortfall: Year 1 cap hit of $[Year1CapHitMil]M exceeds available cap space of $[CapSpaceMil]M. Shortfall: $[ShortfallMil]M. Options to create space: (1) Release/trade a player with cap hit ≥ $[ShortfallMil]M. (2) Restructure an existing contract (converts base salary to signing bonus). (3) Reduce this offer's APY by $[APYReductionNeededMil]M or add [VoidYearsNeeded] void year(s) to spread the signing bonus hit.",
      "requiredVariables": [
        "PlayerFirstName",
        "PlayerLastName",
        "Year1CapHitMil",
        "CapSpaceMil",
        "ShortfallMil",
        "APYReductionNeededMil",
        "VoidYearsNeeded"
      ],
      "actionRouting": "Route_To_Roster_Management",
      "actionButtons": [
        { "label": "Manage Roster", "action": "onNavigate('roster', {})" },
        { "label": "Revise Offer", "action": "onNavigate('contractNegotiation', {playerId})" }
      ]
    },

    {
      "triggerId": "Competing_Offer_Received",
      "displayName": "Rival Team Offers Sheet",
      "senderArchetype": "agent",
      "senderPersonality": ["Shark", "BrandBuilder"],
      "category": "contract",
      "requiresAction": true,
      "subjectTemplate": "[PlayerFirstName] [PlayerLastName] – Competing Offer on Table",
      "narrativeBody": "I have to be transparent with you — we've received a formal offer from another organization. [PlayerFirstName] values his time here, but he's a professional and has to consider all his options. If you want to keep him, we need to see your best offer now.",
      "mechanicalTruth": "Competing Offer: [RivalTeamName] has submitted $[RivalAPYMil]M APY | [RivalYears] years | $[RivalGuaranteeMil]M guaranteed. Leverage shift: Agent leverage now [AgentLeveragePct]% (was [PrevAgentLeveragePct]%). Match or beat the rival offer to retain [PlayerFirstName]. You have [HoursToRespond] hours (in-game) before he is likely to sign elsewhere.",
      "requiredVariables": [
        "PlayerFirstName",
        "PlayerLastName",
        "RivalTeamName",
        "RivalAPYMil",
        "RivalYears",
        "RivalGuaranteeMil",
        "AgentLeveragePct",
        "PrevAgentLeveragePct",
        "HoursToRespond"
      ],
      "actionRouting": "Route_To_Contract_Negotiation",
      "actionButtons": [
        { "label": "Match Offer", "action": "onNavigate('contractNegotiation', {playerId})" },
        { "label": "Let Walk", "action": "handleReleasePlayer(playerId)" }
      ]
    }

  ]
}
